<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('_bootstrap_meta') %>
    <title>Home</title>
  </head>

  <body>
    <%- include('_header')%>

    <div class="w-75 mx-auto mt-5">
      <div class="row">
        <div class="col-6">
          <h3 style="font-weight: 600; font-size: 1.7rem">Students</h3>
        </div>
        <div class="col-6 d-flex justify-content-end">
   
          <a
            href="/students/add-student-page"
            type="button"
            class="align-self-center"
            style="
              border-radius: 5px;
              padding: 5px;
              color: rgb(11, 103, 223);
              font-weight: 600;
              font-size: 1.2rem;
            "
            >+ Add Student</a
          >

        </div>
      </div>

      <div
        class="mt-3 mb-3"
        style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;border-radius: 10px;"
      >
        <table class="table table-bordered table-striped" style="border-radius: 10px;">
          <thead  style="background-color:black;color:#ffff;border-top-left-radius:50px;">
            <tr style="border-radius: 10px;">
              <th scope="col" style="border-top-left-radius: 10px;">Batch</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Contact</th>
              <th scope="col">DSA</th>
              <th scope="col">WEB</th>
              <th scope="col">REACT</th>
              <th scope="col">Interview</th>
              <th scope="col" class="text-end" style="border-top-right-radius: 10px;">Action</th>
            </tr>
          </thead>
          <tbody>
            <% for(let student of students){%>
            <tr>
              <th style="vertical-align: middle;"><%= student.batch%></th>
              <td style="vertical-align: middle;"><%= student.name%></td>
              <td style="vertical-align: middle;"><%= student.email%></td>
              <td style="vertical-align: middle;"><%= student.contactNumber%></td>
              <td style="vertical-align: middle;"><%= student.dsa%></td>
              <td style="vertical-align: middle;"><%= student.webd%></td>
              <td style="vertical-align: middle;"><%= student.react%></td>
              <%if(student.interviews.length > 0){%>
                <% let number = 1 %>
                <td style="vertical-align: middle;">
                  <%for(let company of student.interviews){%>
                    <%=number++ %>.
                    <%=company.company%> &nbsp;
                    <%}%>
              </td>
              <%}else{%>
                <td style="vertical-align: middle;">
                  No Interview Scheduled
                </td>
                <%}%>
                <td>
                  <a href="/students/edit-page/<%=student.id%>" type="button" class="btn btn-success btn-small"> Edit</a>
                  <a href="/students/delete/<%=student.id%>" type="button" class="btn btn-danger btn-small"> Delete</a>
                </td>
            </tr>

            <%}%>
            
          </tbody style="border-bottom-left-radius: 10px">
        </table>
      </div>
    </div>
    <%- include('_bootstrap_script')%>
  </body>
</html>
